<section
  class="relative w-screen min-h-[70vh] flex flex-col items-center justify-center text-center px-6 bg-gradient-to-l from-primary-dark/90 via-primary-dark/70 via-primary-dark/60 to-primary-dark/10"
>
  <!-- overlay -->
  <div class="absolute inset-0 bg-primary-dark/70 z-10"></div>

  <img 
    src="images/careers/agreement.webp"
    alt="agreement image"
    class="absolute inset-0 w-full h-full object-cover"
  />

  <!-- content -->
  <div class="relative z-20 max-w-4xl mt-16 mx-auto w-full">

    <nav class="text-gray-200 text-sm md:text-base mb-6">
      <ol
        class="flex justify-center space-x-2 md:space-x-4 "
      >
        <li>
          <a routerLink="/" class="hover:text-white transition">
            {{ 'layout.mainLayout.nav.home' | translate }}
          </a>
        </li>
        <li>/</li>
        <li class="text-white ">
          {{ 'layout.mainLayout.nav.careers' | translate }}
        </li>
        <li>/</li>

        <li class="text-white font-semibold">
      {{job.company | localized:languageService.currentLang}}
        </li>
      </ol>
    </nav>

    <!-- title -->
    <h1 class="text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-4">
      {{ 'features.careers.title' | translate }}
    </h1>
    <p class="text-lg md:text-xl text-gray-200 mb-6">
      {{ 'features.careers.subtitle' | translate }}
    </p>


  </div>
</section>

<div class="container mx-auto px-4 md:px-8 py-10" *ngIf="job">
  <div class="grid lg:grid-cols-3 gap-8">

    <!-- Main Job Details -->
    <div class="lg:col-span-2">
      <div class="bg-white rounded-2xl shadow-lg border border-gray-200 p-6 md:p-10">

        <!-- Header -->
        <div class="flex flex-col md:flex-row items-center justify-between mb-8">
          <div class="flex items-center gap-4">
            <img
              [src]="job.logo"
              [alt]="job.company.ar"
              class="w-16 h-16 md:w-24 md:h-24 rounded-xl border shadow-sm object-cover"
            />
            <div>
              <h1 class="text-2xl md:text-3xl font-bold text-gray-900">
                {{ job.title | localized : languageService.currentLang }}
              </h1>
              <p class="text-gray-600 mt-1">
                {{ job.company | localized : languageService.currentLang }} ·
                <span class="text-primary font-medium">
                  {{ job.location | localized : languageService.currentLang }}
                </span>
              </p>
            </div>
          </div>

          <!-- Job Type Badge -->
          <span
            class="mt-4 md:mt-0 px-4 py-2 text-sm font-semibold rounded-full shadow-sm"
            [ngClass]="{
              'bg-green-100 text-green-700':
                (job.type | localized : languageService.currentLang) === 'Full Time' || 
                (job.type | localized : languageService.currentLang) === 'دوام كامل',
              'bg-blue-100 text-blue-700':
                (job.type | localized : languageService.currentLang) === 'Part Time' || 
                (job.type | localized : languageService.currentLang) === 'دوام جزئي',
              'bg-yellow-100 text-yellow-700':
                (job.type | localized : languageService.currentLang) === 'Internship' || 
                (job.type | localized : languageService.currentLang) === 'تدريب',
              'bg-purple-100 text-purple-700':
                (job.type | localized : languageService.currentLang) === 'Contract' || 
                (job.type | localized : languageService.currentLang) === 'عقد'
            }"
          >
            {{ job.type | localized : languageService.currentLang }}
          </span>
        </div>

        <!-- Job Details -->
        <div class="grid md:grid-cols-2 gap-10 text-gray-800">
          <!-- Responsibilities -->
          <div>
            <h2 class="text-xl font-semibold mb-3 text-primary">
              {{ "features.careers.responsibilities" | translate }}
            </h2>
            <ul class="list-disc pl-6 space-y-2">
              <li *ngFor="let item of job.responsibilities">
                {{ item | localized : languageService.currentLang }}
              </li>
            </ul>
          </div>

          <!-- Qualifications -->
          <div>
            <h2 class="text-xl font-semibold mb-3 text-primary">
              {{ "features.careers.qualifications" | translate }}
            </h2>
            <ul class="list-disc pl-6 space-y-2">
              <li *ngFor="let item of job.qualifications">
                {{ item | localized : languageService.currentLang }}
              </li>
            </ul>
          </div>

          <!-- Skills -->
          <div>
            <h2 class="text-xl font-semibold mb-3 text-primary">
              {{ "features.careers.skills" | translate }}
            </h2>
            <ul class="list-disc pl-6 space-y-2">
              <li *ngFor="let skill of job.skills">
                {{ skill | localized : languageService.currentLang }}
              </li>
            </ul>
          </div>

          <!-- Gender -->
          <div>
            <h2 class="text-xl font-semibold mb-3 text-primary">
              {{ "features.careers.gender" | translate }}
            </h2>
            <p class="px-4 py-2 bg-gray-100 rounded-lg inline-block shadow-sm">
              {{ job.gender | localized : languageService.currentLang }}
            </p>
          </div>
        </div>

        <!-- Footer -->
        <div class="mt-10 flex justify-center gap-4">
          <button
            class="px-8 py-3 rounded-xl bg-primary text-white font-medium shadow-md hover:bg-primary-dark transition"
            (click)="router.navigate(['/careers'])"
          >
            {{ "shared.backToJobs" | translate }}
          </button>

          <!-- Apply Now Button -->
          <button
            class="px-8 py-3 rounded-xl bg-accent text-white font-medium shadow-md hover:bg-accent-dark transition"
            (click)="router.navigate(['/apply', job.id])"
          >
            {{ 'features.careers.applyNow' | translate }}
          </button>
        </div>
      </div>
    </div>

    <!-- Sidebar (Recent + Featured Jobs) -->
    <aside class="space-y-8">
      <!-- Recent Jobs -->
      <div class="bg-white rounded-2xl shadow-md border border-gray-200 p-6">
        <h3 class="text-xl font-bold text-gray-800 mb-4">
          {{ "features.careers.recentJobs" | translate }}
        </h3>
        <ul class="space-y-3">
          <li *ngFor="let recent of jobs | slice:-5">
            <a
              [routerLink]="['/careers', recent.id]"
              class="block p-3 rounded-lg hover:bg-gray-100 transition"
            >
              <p class="font-semibold text-gray-900">
                {{ recent.title | localized : languageService.currentLang }}
              </p>
              <span class="text-sm text-gray-600">
                {{ recent.company | localized : languageService.currentLang }}
              </span>
            </a>
          </li>
        </ul>
      </div>

      <!-- Featured Jobs -->
      <div class="bg-white rounded-2xl shadow-md border border-gray-200 p-6">
        <h3 class="text-xl font-bold text-gray-800 mb-4">
          {{ "features.careers.featuredJobs" | translate }}
        </h3>
        <ul class="space-y-3">
          <li *ngFor="let featured of jobs | slice:0:2">
            <a
              [routerLink]="['/careers', featured.id]"
              class="block p-3 rounded-lg hover:bg-gray-100 transition"
            >
              <p class="font-semibold text-gray-900">
                {{ featured.title | localized : languageService.currentLang }}
              </p>
              <span class="text-sm text-gray-600">
                {{ featured.company | localized : languageService.currentLang }}
              </span>
            </a>
          </li>
        </ul>
      </div>
    </aside>
  </div>
</div>
